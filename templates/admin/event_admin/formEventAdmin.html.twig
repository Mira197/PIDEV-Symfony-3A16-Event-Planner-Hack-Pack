<div class="row">
	<div class="col-md-8 offset-md-2">
		{{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
		<div class="input-style-1">
			{{ form_label(form.name) }}
			{{ form_widget(form.name, {'attr': {'placeholder': 'Event Name','class': form_errors(form.name) ? 'is-invalid' : ''}}) }}
			{% if form_errors(form.name) %}
				<div class="form-error">
					{{ form_errors(form.name) }}
				</div>
			{% endif %}
		</div>

		<div class="input-style-1">
			{{ form_label(form.description) }}
			{{ form_widget(form.description, {'attr': {'placeholder': 'Short Description','class': form_errors(form.description) ? 'is-invalid' : ''}}) }}
			{% if form_errors(form.description) %}
				<div class="form-error">{{ form_errors(form.description) }}</div>
			{% endif %}
		</div>

		<div class="select-style-1">
			{{ form_label(form.city) }}
			<div class="select-position">
				{{ form_widget(form.city, {
				'attr': {
					'class': form_errors(form.city) ? 'is-invalid' : ''
				}
			}) }}
			</div>
			{% if form_errors(form.city) %}
				<div class="form-error">{{ form_errors(form.city) }}</div>
			{% endif %}
		</div>

		<div class="input-style-1">
			{{ form_label(form.capacity) }}
			{{ form_widget(form.capacity, {'attr': {'placeholder': 'Number of People','class': form_errors(form.capacity) ? 'is-invalid' : ''}}) }}
			{% if form_errors(form.capacity) %}
				<div class="form-error">{{ form_errors(form.capacity) }}</div>
			{% endif %}
		</div>

		<div class="input-style-1">
			{{ form_label(form.start_date) }}
			{{ form_widget(form.start_date, {
			'attr': {
				'class': form_errors(form.start_date) ? 'is-invalid' : ''
			}
		}) }}
			{% if form_errors(form.start_date) %}
				<div class="form-error">{{ form_errors(form.start_date) }}</div>
			{% endif %}
		</div>

		<div class="input-style-1">
			{{ form_label(form.end_date) }}
			{{ form_widget(form.end_date, {
			'attr': {
				'class': form_errors(form.end_date) ? 'is-invalid' : ''
			}
		}) }}
			{% if form_errors(form.end_date) %}
				<div class="form-error">{{ form_errors(form.end_date) }}</div>
			{% endif %}
		</div>

		<div class="input-style-1">
			{{ form_label(form.image) }}

			{# ✅ Affichage image si présente (soit par nom, soit base64) #}
			{% if event.imageFilename %}
				<div class="mb-2">
					<img src="{{ asset('uploads/' ~ event.imageFilename) }}" alt="Current Image" class="img-fluid rounded" style="max-width: 300px;">
				</div>
			{% elseif base64Image is defined and base64Image %}
				<div class="mb-2">
					<img src="data:image/jpeg;base64,{{ base64Image }}" alt="Current Image" class="img-fluid rounded" style="max-width: 300px;">
				</div>
			{% endif %}


			{{ form_widget(form.image, {
			'attr': {
				'class': form_errors(form.image) ? 'is-invalid' : ''
			}
		}) }}
			{% if form_errors(form.image) %}
				<div class="form-error">{{ form_errors(form.image) }}</div>
			{% endif %}
		</div>

		<button class="main-btn primary-btn-outline btn-hover px-4 py-2">{{ button_label|default('Save Event') }}</button>
		{{ form_end(form) }}

		<style>
			.input-style-1,
			.select-style-1,
			.form-check {
				margin-bottom: 10px !important; /* réduit l’espace entre les champs */
			}
			/* Tu peux aussi jouer sur la taille des labels */
			.input-style-1 label,
			.select-style-1 label {
				font-size: 14px;
				margin-bottom: 3px;
			}

			.form-check label {
				margin-left: 6px;
			}

			/*style for form validation error messages*/
			.form-error {
				color: #dc3545; /* rouge doux */
				font-size: 14px;
				margin-top: 4px;
				padding-left: 2px;
				font-style: italic;
			}
			.is-invalid {
				border-color: #dc3545;
				box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
			}
		</style>
	</div>
</div>
