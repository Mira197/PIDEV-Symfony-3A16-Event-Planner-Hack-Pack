{% for location in locations %}
	<div class="col-md-4 mb-4">
		<div class="card h-100">
			{#affichage image avant#}
			{#{% if location.imageFilename %}
							<img src="{{ asset('uploads/' ~ location.imageFilename) }}" class="card-img-top" alt="{{ location.name }}">
						{% elseif location.base64Image %}
							<img src="data:image/jpeg;base64,{{ location.base64Image }}" class="card-img-top" alt="{{ location.name }}">
						{% else %}
							<div class="card-img-top text-center py-5 bg-light">No Image</div>
						{% endif %}#}
				{% if location.base64Image is defined %}
				<img src="data:image/jpeg;base64,{{ location.base64Image }}" class="card-img-top" alt="{{ location.name }}">
			{% else %}
				<img src="{{ asset('images/default.jpg') }}" class="card-img-top" alt="{{ location.name }}">
			{% endif %}

			<div class="card-body">
				<h5 class="card-title d-flex justify-content-between align-items-center">
					{{ location.name }}
					<i class="fa-regular fa-heart favorite-icon" title="Add to favorites"></i>
				</h5>
				<p class="card-text">
					<span>
						<i class="fas fa-map-marker-alt me-1"></i>
						{{ location.city.value }}</span><br>
					<span>
						<i class="fas fa-users me-1"></i>
						{{ location.capacity }}</span><br>
					<span>
						<i class="fas fa-money-bill-wave me-1"></i>
						{{ location.price }}
						DT</span><br>
					<span>
						<i class="fas fa-circle-check me-1"></i>
						{{ location.status }}</span>
				</p>
				
				<div class="d-flex flex-column align-items-center mt-3">
				<div class="d-flex flex-row justify-content-center gap-2">
				<a href="{{ path('booking_new', { id: event.idEvent }) ~ '?location_id=' ~ location.idLocation }}" class="btn btn-outline-success"  style="padding: 6px 20px;">
					Book This Venue
				</a>
				<!-- ðŸ”¥ Weather button -->
				<button type="button" class="btn btn-outline-secondary btn-sm btn-weather" style="padding: 6px 10px; font-size: 18px;" 
    				data-bs-toggle="modal" 
    				data-bs-target="#weatherModal"
    				data-city="{{ location.city.value }}" 
    				data-start="{{ event.startDate|date('Y-m-d') }}" 
    				data-end="{{ event.endDate|date('Y-m-d') }}">
    				ðŸŒ¤
				</button>
				</div>
				</div>
			</div>
		</div>
	</div>
{% else %}
	<div class="alert alert-warning">No suggested venues found based on your filters.</div>
{% endfor %}
